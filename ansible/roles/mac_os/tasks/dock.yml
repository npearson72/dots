- name: enable autohide of dock
  command: defaults write com.apple.dock autohide -bool true
  tags: mac_os_dock

- name: enable dock magnification
  command: defaults write com.apple.dock magnification -bool true
  tags: mac_os_dock

- name: remove default icons from dock
  command: defaults write com.apple.dock persistent-apps -array
  tags: mac_os_dock

- name: add icons to home dock
  command: "defaults write com.apple.dock persistent-apps -array-add
  '<dict>
    <key>tile-data</key>
    <dict>
      <key>file-data</key>
      <dict>
        <key>_CFURLString</key>
        <string>/Applications/{{ item }}.app</string>
        <key>_CFURLStringType</key>
        <integer>0</integer>
      </dict>
    </dict>
  </dict>'"
  with_items:
    - Launchpad
    - Google Chrome
    - Bear
    - Books
    - iTerm
    - Utilities/Activity Monitor
    - System Preferences
  when: computer_type == 'home'
  tags: mac_os_dock

- name: add icons to work dock
  command: "defaults write com.apple.dock persistent-apps -array-add
  '<dict>
    <key>tile-data</key>
    <dict>
      <key>file-data</key>
      <dict>
        <key>_CFURLString</key>
        <string>/Applications/{{ item }}.app</string>
        <key>_CFURLStringType</key>
        <integer>0</integer>
      </dict>
    </dict>
  </dict>'"
  with_items:
    - Launchpad
    - Google Chrome
    - Bear
    - Slack
    - iTerm
    - Utilities/Activity Monitor
    - System Preferences
  when: computer_type == 'work'
  tags: mac_os_dock
